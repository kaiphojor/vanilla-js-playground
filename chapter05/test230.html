<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="file">
    <script>

const formData = new FormData();
let fileField = document.querySelector('input[type="file"]');

formData.append('username', 'sdfadsfadsf');
formData.append('attachment',fileField.files[0]);

fetch('url',{
    method: 'POST',
    body: formData
})
.then(response => {
    if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json(); // JSON 형식으로 응답 변환
})
.then(data => {
    console.log("Response received:");
    console.log(data); // 데이터 출력
})
.catch(error => {
    console.error("Error occurred:", error); // 오류 처리
});

// // HTML에서 파일 입력 요소 생성 (샘플)
// const fileInput = document.createElement('input');
// fileInput.type = 'file';
// fileInput.name = 'uploadedFile';

// // JavaScript로 FormData 생성 및 파일 추가
// const formData = new FormData();

// // 파일 첨부: 사용자가 선택한 파일을 FormData에 추가
// fileInput.addEventListener('change', function () {
//     const selectedFile = fileInput.files[0]; // 사용자가 선택한 첫 번째 파일
//     if (selectedFile) {
//         formData.append("file", selectedFile); // "file"이라는 키로 파일 추가

//         // FormData 확인 (디버깅용)
//         for (const [key, value] of formData.entries()) {
//             console.log(`${key}: ${value.name}`); // 파일의 이름 출력
//         }
//     }
// });

// // 파일 전송
// function uploadFile() {
//     fetch("https://example.com/upload", {
//         method: "POST",
//         body: formData
//     })
//         .then(response => {
//             if (response.ok) {
//                 console.log("File uploaded successfully!");
//             } else {
//                 console.error("File upload failed!");
//             }
//         })
//         .catch(error => {
//             console.error("An error occurred:", error);
//         });
// }

// // 파일 업로드 트리거 예제
// fileInput.click(); // 파일 선택 창 띄우기

    </script>
</body>
</html>